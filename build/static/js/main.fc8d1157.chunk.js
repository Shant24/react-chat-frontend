(this["webpackJsonpreact-chat-frontend"]=this["webpackJsonpreact-chat-frontend"]||[]).push([[0],{106:function(e,t,a){e.exports={conversationsContainer:"styles_conversationsContainer__33qWv",conversationsHeader:"styles_conversationsHeader__3WjCP",conversationWith:"styles_conversationWith__2cca5",name:"styles_name__3Gs3h",conversationOptions:"styles_conversationOptions__32cbT"}},107:function(e,t,a){e.exports={conversationsList:"styles_conversationsList__2_ZaV",conversationsWrapper:"styles_conversationsWrapper__3wGnJ",messagesWrapper:"styles_messagesWrapper__3MowQ",messagesStatusContainer:"styles_messagesStatusContainer__1nL-O"}},108:function(e,t,a){e.exports={attachmentsContainer:"styles_attachmentsContainer__2WHDy",attachmentWrapper:"styles_attachmentWrapper__3YZgx",isMe:"styles_isMe__1NOKI",isBigImage:"styles_isBigImage__1WO5w"}},124:function(e,t,a){e.exports={typingAnimationContainer:"styles_typingAnimationContainer__Psb6H",typingAnimation:"styles_typingAnimation__3xcNJ"}},125:function(e,t,a){e.exports={onlineStatusContainer:"styles_onlineStatusContainer__1B1fI",online:"styles_online__WcEI2",offline:"styles_offline__3dD1s",statusName:"styles_statusName__19P26"}},14:function(e,t,a){e.exports={authContainer:"styles_authContainer__1ITGu",authSectionContainer:"styles_authSectionContainer__2FCCL",titleContainer:"styles_titleContainer__1XZzZ",block:"styles_block__1fqgq",fieldWrapper:"styles_fieldWrapper__3Ixlz",inputIcon:"styles_inputIcon__1ttdH",inputContainer:"styles_inputContainer__Dvgsv",passwordField:"styles_passwordField__3xRV_",submitBtn:"styles_submitBtn__2cEXQ",suggestLink:"styles_suggestLink__1wgdd",successContainer:"styles_successContainer__2jnrr",infoIcon:"styles_infoIcon__LGjIs"}},177:function(e,t,a){e.exports={button:"styles_button__26yxq",large:"styles_large__3jU_o"}},182:function(e,t,a){e.exports={dialoguesList:"styles_dialoguesList__3XXai",loadingContainer:"styles_loadingContainer__21zfC"}},184:function(e,t,a){e.exports={homePage:"styles_homePage__3TyOF",container:"styles_container__IKGVF"}},206:function(e,t,a){},244:function(e,t,a){e.exports={container:"styles_container__9CaTl"}},248:function(e,t,a){e.exports={textAvatar:"styles_textAvatar__-mnm_"}},26:function(e,t,a){e.exports={sendMessageInputContainer:"styles_sendMessageInputContainer__9F53t",textarea:"styles_textarea__1A5qK",actionsContainer:"styles_actionsContainer__1z0cC",leftSide:"styles_leftSide__26y9z",rightSide:"styles_rightSide__2ZLnw",conditionContainer:"styles_conditionContainer__3baz2",btn:"styles_btn__2-Z39",sendBtn:"styles_sendBtn__3j7V5",audioBtn:"styles_audioBtn__3CAu9",conditionalIcons:"styles_conditionalIcons__2TlwT",show:"styles_show__j1DcM",photoBtn:"styles_photoBtn__2o3Mo",icon:"styles_icon__3sQvH",sendIcon:"styles_sendIcon__CwXW1"}},284:function(e,t,a){},47:function(e,t,a){e.exports={dialogItemContainer:"styles_dialogItemContainer__2-CGz",active:"styles_active__2bMwP",userAvatarWrapper:"styles_userAvatarWrapper__23yyP",online:"styles_online__1bIWX",userAvatar:"styles_userAvatar__3fbov",dialogContent:"styles_dialogContent__3iize",topPart:"styles_topPart__8pc-Q",userName:"styles_userName__7_249",sentTime:"styles_sentTime__1G2Yv",bottomPart:"styles_bottomPart__3Wlon",messageText:"styles_messageText__2alVR",readIcon:"styles_readIcon__1xVnk",unread:"styles_unread__11ilm",unreadMore:"styles_unreadMore__3bm2J"}},51:function(e,t,a){e.exports={message:"styles_message__1FkBI",avatarWrapper:"styles_avatarWrapper__3WwQS",messageContent:"styles_messageContent__1pMeV",bubbleWrapper:"styles_bubbleWrapper__3-tA6",bubble:"styles_bubble__2brML",text:"styles_text__3JrKy",date:"styles_date__O0Tb_",readContainer:"styles_readContainer__30Z98",withAttachment:"styles_withAttachment__1-qlK",isMe:"styles_isMe__2Zf8s",isTyping:"styles_isTyping__9-4Bk",isAudio:"styles_isAudio__u6_Dy"}},528:function(e,t,a){"use strict";a.r(t);var s,n=a(0),c=a.n(n),r=a(38),i=a.n(r),o=a(17),l=a(54),u=(a(284),a(30)),d=function(){var e=Object(n.useState)({width:0,height:0}),t=Object(u.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){var e=function(){s({width:window.innerWidth,height:window.innerHeight})};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),a},j=a(1),m=function(e){var t=e.children,a=d(),s=a.width,n=a.height;return Object(j.jsx)("div",{style:{maxWidth:s,width:s,maxHeight:n,height:n},children:t})},b=a(29),h=a(24),O=a(274),_=a(4),p=a.n(_),v=a(267),x=a(177),f=a.n(x),g=["children","className","size"],y=function(e){var t,a=e.children,s=e.className,n=e.size,c=Object(O.a)(e,g);return Object(j.jsx)(v.a,Object(b.a)(Object(b.a)({},c),{},{className:p()(f.a.button,(t={},Object(h.a)(t,f.a.large,"large"===n),Object(h.a)(t,s,s),t)),children:a}))},S=Object(n.memo)(y),N=a(244),w=a.n(N),E=function(e){var t=e.children,a=e.className,s=void 0===a?"":a;return Object(j.jsx)("div",{className:p()(w.a.container,Object(h.a)({},s,s)),children:t})},C=Object(n.memo)(E),I=a(536),A=a(106),M=a.n(A),L=a(245),T=a.n(L),R=a(246),z=a.n(R),B=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=T()(e,t);return a?s.reverse():s},G=function(e,t){return z()(e,t)};!function(e){e.MESSAGES_SET_IS_LOADING="MESSAGES_SET_IS_LOADING",e.MESSAGES_REQUEST="MESSAGES_REQUEST",e.MESSAGES_REQUEST_ERROR="MESSAGES_REQUEST_ERROR",e.SET_MESSAGES="SET_MESSAGES",e.REMOVE_MESSAGES="REMOVE_MESSAGES"}(s||(s={}));var D,k=function(e){return{type:s.MESSAGES_SET_IS_LOADING,payload:e}},U=function(){return{type:s.REMOVE_MESSAGES}},W=a(88),P=function(e){return function(t){return t.messagesData[e]}},V=Object(W.a)((function(e){return e.messagesData.messages}),(function(e){return e})),H=Object(W.a)(P("isLoading"),(function(e){return e})),F=function(e){return function(t){return t.dialoguesData[e]}},q=function(e){return e.dialoguesData.dialogues},Q=Object(W.a)(q,(function(e){return e})),Z=Object(W.a)(F("isLoading"),(function(e){return e})),J=function(){var e=Object(l.b)(),t=Object(o.g)().id,a=Object(l.c)(V),c=Object(l.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(W.a)(q,(function(t){return t.find((function(t){return t._id===e}))||null}))}(t));Object(n.useEffect)((function(){var a;t?(e(U()),e((a=t,{type:s.MESSAGES_REQUEST,payload:a}))):e(U())}),[e,t]);var r=B(a,[function(e){return e.date}],!1);return Object(j.jsxs)("div",{className:M.a.conversationsContainer,children:[Object(j.jsxs)("div",{className:M.a.conversationsHeader,children:[c&&Object(j.jsxs)("div",{className:M.a.conversationWith,children:[Object(j.jsx)("div",{className:M.a.name,children:c.fullName}),Object(j.jsx)(Ct,{isOnline:c.isOnline,showIcon:!0})]}),Object(j.jsx)("div",{className:M.a.conversationOptions,children:Object(j.jsx)(I.a,{})})]}),Object(j.jsx)(se,{items:r,roomId:t}),c&&Object(j.jsx)(kt,{})]})},K=a(141),X=a.n(K),$=a(532),Y=a(109),ee=a(107),te=a.n(ee),ae=function(e){var t=e.items,a=e.roomId,s=Object(n.useRef)(null),c=Object(l.c)(H);return Object(n.useEffect)((function(){var e;s&&(null===(e=s.current)||void 0===e||e.scrollToBottom())}),[s,t]),Object(j.jsx)("div",{className:te.a.conversationsList,children:Object(j.jsx)(X.a,{ref:s,className:te.a.conversationsWrapper,autoHide:!0,children:Object(j.jsx)("div",{className:te.a.messagesWrapper,children:c?Object(j.jsx)($.a,{className:te.a.messagesStatusContainer,size:"large",tip:"Loading messages"}):a&&t.length?t.map((function(e){return Object(j.jsx)(Le,Object(b.a)({},e),e._id)})):Object(j.jsx)(Y.a,{className:te.a.messagesStatusContainer,description:a&&!t.length?"No messages":"Open the dialogue"})})})})},se=Object(n.memo)(ae),ne=a(51),ce=a.n(ne),re=a(271),ie=a(185),oe=a(275),le=a(186),ue=a(273),de=a(103),je=a(269),me=a(270),be={us:de.a,ru:je.a,hy:me.a},he=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"us",s=new Date(e);if(t&&!Object(le.a)(s))return"".concat(Oe(s),", ").concat(_e(s));var n=Object(re.a)(s,{addSuffix:!0,locale:be[a],roundingMethod:"floor"});return t?"".concat(n,", ").concat(_e(s)):Object(ue.a)(s)?n:Object(oe.a)(s)?_e(s,!1):Object(le.a)(s)?n:Oe(s)},Oe=function(e){return Object(ie.a)(new Date(e),"dd.MM.yyyy")},_e=function(e,t){return Object(ie.a)(new Date(e),t?"HH:mm:ss":"HH:mm")},pe=a(108),ve=a.n(pe),xe=function(e){var t,a=e.attachments,s=e.isMe,n=e.isBigImage;return Object(j.jsx)("div",{className:p()(ve.a.attachmentsContainer,(t={},Object(h.a)(t,ve.a.isMe,s),Object(h.a)(t,ve.a.isBigImage,n),t)),children:a.map((function(e){var t=e.url,s=e.filename;return Object(j.jsx)("div",{className:p()(ve.a.attachmentWrapper,Object(h.a)({},ve.a.big,1===a.length)),children:Object(j.jsx)("img",{src:t,alt:s,title:s})},"".concat(t,"-").concat(s))}))})},fe=Object(n.memo)(xe),ge=a(248),ye=a.n(ge),Se=a(181),Ne=a.n(Se),we=function(e){var t=Array.from(e),a=Object(u.a)(t,2),s=a[0],n=a[1];return[null===s||void 0===s?void 0:s.toUpperCase(),null===n||void 0===n?void 0:n.toUpperCase()]},Ee=function(e){var t=e.split(" "),a=Object(u.a)(t,2),s=a[0],n=a[1],c=void 0===n?"":n,r=we(s),i=Object(u.a)(r,2),o=i[0],l=i[1],d=we(c),j=Object(u.a)(d,1)[0];return"".concat(o).concat(j||l)},Ce=function(e){return function(e){var t=e.color,a=e.colorLighten;return"linear-gradient(135deg, ".concat(t," 0%, ").concat(a," 100%)")}(function(e){var t="".concat(Ee(e)).concat("u");return{color:new Ne.a({saturation:1}).hex(t),colorLighten:new Ne.a({saturation:1,lightness:.98}).hex(t)}}(e))},Ie=function(e){var t,a=e.fullName,s=e.avatar,n=e.className;return Object(j.jsx)("div",Object(b.a)(Object(b.a)({className:p()(n,(t={},Object(h.a)(t,ye.a.textAvatar,!s),Object(h.a)(t,"textAvatar",!s),t))},s?{}:{style:{background:Ce(a)}}),{},{children:s?Object(j.jsx)("img",{src:s,alt:"".concat(a," avatar")}):Object(j.jsx)("span",{children:Ee(a)})}))},Ae=Object(n.memo)(Ie),Me=function(e){var t,a=e.className,s=void 0===a?"":a,n=e.user.fullName,c=e.text,r=e.audio,i=e.avatar,o=e.date,l=e.attachments,u=e.isMe,d=e.isRead,m=e.isTyping;return c||l||m||r?Object(j.jsxs)("div",{className:p()(ce.a.message,s,(t={},Object(h.a)(t,ce.a.isMe,u),Object(h.a)(t,ce.a.isAudio,r),Object(h.a)(t,ce.a.isTyping,m),t)),children:[Object(j.jsx)(Ae,{fullName:n,avatar:i,className:ce.a.avatarWrapper}),Object(j.jsxs)("div",{className:ce.a.messageContent,children:[Object(j.jsxs)("div",{className:ce.a.bubbleWrapper,children:[(c||m||r)&&Object(j.jsxs)("div",{className:ce.a.bubble,children:[!m&&c&&!r&&Object(j.jsx)("p",{className:ce.a.text,children:c}),!m&&r&&Object(j.jsx)(St,{isMe:u,audio:r}),m&&Object(j.jsx)(ht,{})]}),!m&&u&&!l&&Object(j.jsx)(He,{isMe:u,isRead:d,className:ce.a.readContainer})]}),!m&&l&&Object(j.jsx)(fe,{attachments:l,isBigImage:1===(null===l||void 0===l?void 0:l.length),isMe:u}),o&&Object(j.jsx)("time",{className:ce.a.date,children:he(o,!0)})]}),!m&&u&&l&&Object(j.jsx)(He,{isMe:u,isRead:d,className:p()(ce.a.readContainer,ce.a.withAttachment)})]}):null},Le=Object(n.memo)(Me),Te=function(){return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"9",fill:"none",viewBox:"0 0 15 9",children:Object(j.jsx)("path",{fill:"#0C8FE4",fillRule:"evenodd",d:"M3.666 6.875L10.21.139a.454.454 0 01.654 0c.181.185.181.486 0 .671L3.995 7.88a.458.458 0 01-.654 0L.135 4.608a.484.484 0 010-.671.454.454 0 01.654 0l2.877 2.939zm3.475.192L14.155.14a.508.508 0 01.7 0 .464.464 0 010 .674L7.559 8.14c-.191.184-1.687-.572-1.804-.676-.113-.1.546-.688.546-.688.205.1.786.345.84.292z",clipRule:"evenodd"})})},Re=Object(n.memo)(Te),ze=function(){return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"9",fill:"none",viewBox:"0 0 11 9",children:Object(j.jsx)("path",{fill:"#0C8FE4",fillRule:"evenodd",d:"M10.21.156l-6.544 7.56L.79 4.419a.42.42 0 00-.654 0 .592.592 0 000 .753l3.206 3.675a.424.424 0 00.654 0l6.87-7.937a.59.59 0 000-.753.42.42 0 00-.655 0z",clipRule:"evenodd"})})},Be=Object(n.memo)(ze),Ge=function(){return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"109",height:"30",fill:"none",viewBox:"0 0 109 30",children:Object(j.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M14 0h-2v30h2V0zM6 7h2v17H6V7zm25 2h-2v12h2V9zM2 11H0v8h2v-8zm57 2h-2v5h2v-5zm-13-2h2v8h-2v-8zm47 0h-2v8h2v-8zm14 0h2v8h-2v-8zM20 7h-2v17h2V7zm15 0h2v17h-2V7zm18 0h-2v17h2V7zm16 0h2v17h-2V7zm18 0h-2v17h2V7zm15 0h2v17h-2V7zM24 0h2v30h-2V0zm19 0h-2v30h2V0zm20 0h2v30h-2V0zm13 0h-2v30h2V0zm4 0h2v30h-2V0zm18 0h-2v30h2V0z",clipRule:"evenodd"})})},De=Object(n.memo)(Ge),ke=function(){return Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",children:[Object(j.jsx)("path",{fill:"none",d:"M-838-2232H562v3600H-838z"}),Object(j.jsx)("path",{d:"M16 10v28l22-14z"}),Object(j.jsx)("path",{fill:"none",d:"M0 0h48v48H0z"})]})},Ue=Object(n.memo)(ke),We=function(){return Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:[Object(j.jsx)("path",{fill:"none",d:"M0 0H32V32H0z"}),Object(j.jsxs)("g",{children:[Object(j.jsx)("path",{d:"M20 4H28V28H20z"}),Object(j.jsx)("path",{d:"M4 4H12V28H4z"})]})]})},Pe=Object(n.memo)(We),Ve=function(e){var t=e.isMe,a=e.isRead,s=e.className,n=e.unreadCount,c=void 0===n?0:n;return Object(j.jsx)("div",Object(b.a)(Object(b.a)({},s?{className:s}:{}),{},{children:a&&t?Object(j.jsx)(Re,{}):t?Object(j.jsx)(Be,{}):a?Object(j.jsx)(Re,{}):c?Object(j.jsx)(j.Fragment,{children:c>9?"+9":c}):null}))},He=Object(n.memo)(Ve),Fe=a(533),qe=a(534),Qe=a(535),Ze=a(537),Je=a(538),Ke=a(276),Xe=a(539),$e=a(123),Ye=a(58),et=a.n(Ye),tt=a(182),at=a.n(tt),st=function(e){var t=e.items,a=e.isShowUnReads,s=Object(n.useRef)(null),c=Object(l.c)(Z);return Object(n.useEffect)((function(){var e;s&&(null===(e=s.current)||void 0===e||e.scrollToTop())}),[s,t,a]),Object(j.jsx)(X.a,{ref:s,className:at.a.dialoguesList,autoHide:!0,children:c?Object(j.jsx)($.a,{className:at.a.loadingContainer,tip:"Loading dialogues"}):t.length?t.map((function(e){return Object(j.jsx)(dt,Object(b.a)({},e),e._id)})):Object(j.jsx)(Y.a,{image:Y.a.PRESENTED_IMAGE_SIMPLE,description:"No dialogues"})})},nt=Object(n.memo)(st);!function(e){e.DIALOGUES_SET_IS_LOADING="DIALOGUES_SET_IS_LOADING",e.DIALOGUES_REQUEST="DIALOGUES_REQUEST",e.DIALOGUES_REQUEST_ERROR="DIALOGUES_REQUEST_ERROR",e.SET_DIALOGUES="SET_DIALOGUES"}(D||(D={}));var ct=function(e){return{type:D.DIALOGUES_SET_IS_LOADING,payload:e}},rt=function(){var e=Object(l.b)(),t=Object(l.c)(Q),a=Object(n.useState)(""),s=Object(u.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)(!1),o=Object(u.a)(i,2),d=o[0],m=o[1],b=Object(n.useState)(!1),h=Object(u.a)(b,2),O=h[0],_=h[1];Object(n.useEffect)((function(){e({type:D.DIALOGUES_REQUEST})}),[e]);var p=Object(n.useMemo)((function(){return G(t,(function(e){return!e.message.isRead&&e.fullName===e.message.user.fullName}))}),[t]),x=Object(n.useMemo)((function(){var e=!1,a=B(O?p:t,[function(e){return e.message.created_at}],!0);return c&&(a=G(a,(function(e){return e.fullName.toLocaleLowerCase().indexOf(c.toLocaleLowerCase())>=0}))),a.forEach((function(t){t.message.isRead||t.fullName!==t.message.user.fullName||(e=!0)})),m(e),a}),[t,p,O,c]);return Object(n.useEffect)((function(){O&&!p.length&&_(!1)}),[O,p.length]),Object(j.jsxs)("div",{className:et.a.dialoguesBarContainer,children:[Object(j.jsxs)("div",{className:et.a.dialoguesBarTopPart,children:[Object(j.jsxs)("div",{className:et.a.dialoguesHeader,children:[Object(j.jsxs)("div",{className:et.a.conversationsListText,children:[Object(j.jsx)(Ze.a,{className:et.a.listIcon}),Object(j.jsx)("span",{children:"List of dialogue"})]}),Object(j.jsx)(v.a,{type:"link",shape:"circle",className:et.a.createNewConversationBtn,icon:Object(j.jsx)(Je.a,{className:et.a.createNewConversationIcon}),onClick:$e.noop})]}),Object(j.jsxs)("div",{className:et.a.dialoguesSearchContainer,children:[Object(j.jsx)(Fe.a,{className:et.a.searchInput,value:c,placeholder:"Search in the contacts",allowClear:!0,prefix:Object(j.jsx)(Ke.a,{className:et.a.searchIcon}),onChange:function(e){return r(e.target.value)}}),(!c&&!!p.length||c&&d)&&Object(j.jsx)(qe.a,{className:et.a.filterBtnContainer,dot:!O,children:Object(j.jsx)(Qe.a,{title:O?"All messages":"Unread messages",placement:"top",children:Object(j.jsx)("div",{className:et.a.filterBtnWrapper,onClick:function(){return _(!O)},children:Object(j.jsx)(Xe.a,{})})})})]})]}),Object(j.jsx)(nt,{items:x,isShowUnReads:O})]})},it=a(66),ot=a(47),lt=a.n(ot),ut=function(e){var t,a=e._id,s=e.fullName,n=e.isOnline,c=e.message,r=c.text,i=c.isRead,o=c.created_at,l=c.user,u=l.fullName,d=l.avatar,m=e.unreadCount,b=u!==s;return Object(j.jsxs)(it.b,{to:"/m/".concat(a),className:lt.a.dialogItemContainer,activeClassName:lt.a.active,children:[Object(j.jsxs)("div",{className:lt.a.userAvatarWrapper,children:[Object(j.jsx)(Ae,{fullName:s,avatar:d||"",className:lt.a.userAvatar}),n&&Object(j.jsx)("div",{className:lt.a.online})]}),Object(j.jsxs)("div",{className:lt.a.dialogContent,children:[Object(j.jsxs)("div",{className:lt.a.topPart,children:[Object(j.jsx)("div",{className:lt.a.userName,children:s}),Object(j.jsx)("time",{className:lt.a.sentTime,children:he(o)})]}),Object(j.jsxs)("div",{className:lt.a.bottomPart,children:[Object(j.jsx)("p",{className:lt.a.messageText,children:r}),Object(j.jsx)(He,{className:p()(lt.a.readIcon,(t={},Object(h.a)(t,lt.a.unread,!b&&!i),Object(h.a)(t,lt.a.unreadMore,!b&&!i&&m>9),t)),isMe:b,isRead:i,unreadCount:m})]})]})]})},dt=Object(n.memo)(ut),jt=a(124),mt=a.n(jt),bt=function(){return Object(j.jsxs)("div",{className:mt.a.typingAnimationContainer,children:[Object(j.jsx)("span",{className:mt.a.one}),Object(j.jsx)("span",{className:mt.a.two}),Object(j.jsx)("span",{className:mt.a.three})]})},ht=Object(n.memo)(bt),Ot=a(68),_t=a.n(Ot),pt=a(265),vt=function(e){return"0".concat(e).slice(-2)},xt=function(e,t){return t===e?0:t/e*100},ft=function(e,t){var a=e-t;return t===e&&(a=e),gt(a)},gt=function(e){var t={start:new Date((new Date).getTime()-1e3*e),end:new Date},a=Object(pt.a)(t),s=a.hours,n=a.minutes,c=a.seconds,r="".concat(vt(n||0),":").concat(vt(c||0));return s?"".concat(vt(s),":").concat(r):r},yt=function(e){var t,a=e.isMe,s=e.audio,c=Object(n.useRef)(null),r=Object(n.useState)(!1),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)(0),m=Object(u.a)(d,2),b=m[0],O=m[1],_=Object(n.useState)(0),v=Object(u.a)(_,2),x=v[0],f=v[1],g=function(){var e,t;(null===c||void 0===c?void 0:c.current)&&(O(null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e.duration),f(null===c||void 0===c||null===(t=c.current)||void 0===t?void 0:t.currentTime))},y=function(){var e;(null===c||void 0===c?void 0:c.current)&&f(null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e.currentTime)},S=Object(n.useCallback)((function(){var e;l(!1),null===c||void 0===c||null===(e=c.current)||void 0===e||e.pause()}),[]);return Object(n.useEffect)((function(){var e=null===c||void 0===c?void 0:c.current;return null===e||void 0===e||e.addEventListener("loadedmetadata",g),null===e||void 0===e||e.addEventListener("timeupdate",y),null===e||void 0===e||e.addEventListener("ended",S),function(){null===e||void 0===e||e.removeEventListener("loadedmetadata",g),null===e||void 0===e||e.removeEventListener("timeupdate",y),null===e||void 0===e||e.removeEventListener("ended",S),S()}}),[S]),Object(j.jsxs)("div",{className:_t.a.audioContainer,onClick:function(){o?S():function(){var e;l(!0),null===c||void 0===c||null===(e=c.current)||void 0===e||e.play()}()},children:[Object(j.jsx)("audio",{ref:c,src:s,preload:"metadata"}),Object(j.jsx)("div",{className:_t.a.audioProgress,style:{width:"".concat(xt(b,x),"%")}}),Object(j.jsxs)("div",{className:p()(_t.a.audioInfo,Object(h.a)({},_t.a.me,a)),children:[Object(j.jsx)("button",{className:p()(_t.a.audioBtn,(t={},Object(h.a)(t,_t.a.playing,o),Object(h.a)(t,_t.a.paused,!o),t)),children:o?Object(j.jsx)(Pe,{}):Object(j.jsx)(Ue,{})}),Object(j.jsx)("div",{className:_t.a.progressIcon,children:Object(j.jsx)(De,{})}),Object(j.jsx)("time",{className:_t.a.audioDuration,children:ft(b,x)})]})]})},St=Object(n.memo)(yt),Nt=a(125),wt=a.n(Nt),Et=function(e){var t,a=e.isOnline,s=e.className,n=e.showIcon;return Object(j.jsx)("div",{className:p()(wt.a.onlineStatusContainer,s,(t={},Object(h.a)(t,wt.a.online,n&&a),Object(h.a)(t,wt.a.offline,n&&!a),t)),children:Object(j.jsx)("span",{className:wt.a.statusName,children:a?"online":"offline"})})},Ct=Object(n.memo)(Et),It=a(540),At=a(541),Mt=a(542),Lt=a(543),Tt=a(118),Rt=a(253),zt=a(268),Bt=a(26),Gt=a.n(Bt),Dt=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(""),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)([]),m=Object(u.a)(d,2),b=(m[0],m[1]),O=Object(n.useRef)(null);Object(n.useEffect)((function(){c(!0)}),[]);var _=$e.noop,x=$e.noop;return Object(j.jsxs)("div",{className:Gt.a.sendMessageInputContainer,children:[Object(j.jsx)("div",{className:p()(Gt.a.actionsContainer,Gt.a.leftSide),children:Object(j.jsx)(v.a,{type:"link",shape:"circle",className:p()(Gt.a.btn,Gt.a.emojiBtn),icon:Object(j.jsx)(It.a,{className:p()(Gt.a.icon,Gt.a.emojiIcon)}),onClick:_})}),s&&Object(j.jsx)(Tt.default,{ref:O,className:Gt.a.textarea,value:o,placeholder:"Enter the message...",autoSize:{minRows:1,maxRows:3},onChange:function(e){l(e.target.value),e.target.scrollTo(0,e.target.scrollHeight)},onPressEnter:function(e){Rt.isMobile||e.shiftKey||e.preventDefault()},spellCheck:!0}),Object(j.jsxs)("div",{className:p()(Gt.a.actionsContainer,Gt.a.rightSide),children:[Object(j.jsx)(zt.a,{multiple:!0,accept:"image/*",maxLength:8,onChange:function(e){return console.log("e change",e)},onStart:function(e){console.log("onStart",e,e.name)},beforeUpload:function(e,t){return b(t),!1},children:Object(j.jsx)(v.a,{type:"link",shape:"circle",className:p()(Gt.a.btn,Gt.a.photoBtn),icon:Object(j.jsx)(At.a,{className:p()(Gt.a.icon,Gt.a.photoIcon)})})}),Object(j.jsxs)("div",{className:Gt.a.conditionContainer,children:[Object(j.jsx)(v.a,{type:"link",shape:"circle",className:p()(Gt.a.btn,Gt.a.sendBtn,Gt.a.conditionalIcons,Object(h.a)({},Gt.a.show,o)),icon:Object(j.jsx)(Mt.a,{className:p()(Gt.a.icon,Gt.a.sendIcon)}),onClick:function(){var e;null===O||void 0===O||null===(e=O.current)||void 0===e||e.focus()}}),Object(j.jsx)(v.a,{type:"link",shape:"circle",className:p()(Gt.a.btn,Gt.a.audioBtn,Gt.a.conditionalIcons,Object(h.a)({},Gt.a.show,!o)),icon:Object(j.jsx)(Lt.a,{className:p()(Gt.a.icon,Gt.a.audioIcon)}),onClick:x})]})]})]})},kt=Object(n.memo)(Dt),Ut=a(14),Wt=a.n(Ut),Pt=a(61),Vt=a.n(Pt),Ht=a(82),Ft=a.n(Ht),qt=a(544),Qt=a(545),Zt=a(151),Jt=(a(206),a(69)),Kt=/^((?=.*[A-Za-z])|(?=.*[A-Za-z])(?=.*\d))[A-Za-z\d_-]{2,30}$/,Xt=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,30}$/,$t=Jt.a({username:Jt.c().trim().min(2,"Username must be at least 2 characters!").max(30,"Username must be less than 30 characters!").matches(Kt,"Incorrect Username!").required("Username is required!"),password:Jt.c().trim().min(8,"Password must be at least 8 characters!").max(30,"Password must be less than 30 characters!").matches(Xt,"Incorrect Password!").required("Password is required!")}),Yt=Jt.a({username:Jt.c().trim().min(2,"Username must be at least 2 characters!").max(30,"Username must be less than 30 characters!").matches(Kt,"Username can contain only letters and numbers, only numbers cannot be!").required("Username is required!"),email:Jt.c().email("Enter a valid E-Mail address!").trim().required("E-Mail is required!"),password:Jt.c().trim().min(8,"Password must be at least 8 characters!").max(30,"Password must be less than 30 characters!").matches(Xt,"Password must contain lowercase and uppercase letters, numbers and special characters (@$!%*?&)!").required("Password is required!"),confirmPassword:Jt.c().oneOf([Jt.b("password")],"The two passwords that you entered do not match!").required("Confirm Password is required!")}),ea=function(e,t,a,s){return a[s]||e[s]?t[s]?"error":"success":""},ta=function(e){var t=e.history,a=Object(Zt.a)({initialValues:{username:"",password:""},onSubmit:function(e){console.log("values login",e),t.push("/auth/register")},validationSchema:$t,validateOnMount:!0}),s=a.values,n=a.errors,c=a.isValid,r=a.dirty,i=a.touched,o=a.handleSubmit,l=a.handleChange,u=a.handleBlur;return Object(j.jsxs)("section",{className:Wt.a.authSectionContainer,children:[Object(j.jsxs)("div",{className:Wt.a.titleContainer,children:[Object(j.jsx)("h1",{children:"Login"}),Object(j.jsx)("p",{children:"Please, Login to your account"})]}),Object(j.jsx)(C,{className:Wt.a.block,children:Object(j.jsxs)(Vt.a,{className:"authForm",initialValues:s,onFinish:o,requiredMark:!0,children:[Object(j.jsx)(Vt.a.Item,{className:Wt.a.fieldWrapper,name:"username",hasFeedback:!0,help:i.username?n.username:null,validateStatus:ea(s,n,i,"username"),children:Object(j.jsx)(Ft.a,{id:"username",type:"text",placeholder:"Username",size:"large",className:Wt.a.inputContainer,value:s.username,onChange:l,onBlur:u,prefix:Object(j.jsx)(qt.a,{className:Wt.a.inputIcon})})}),Object(j.jsx)(Vt.a.Item,{className:Wt.a.fieldWrapper,name:"password",hasFeedback:!0,help:i.password?n.password:null,validateStatus:ea(s,n,i,"password"),children:Object(j.jsx)(Ft.a.Password,{id:"password",type:"password",placeholder:"Password",size:"large",className:p()(Wt.a.inputContainer,Wt.a.passwordField),value:s.password,onChange:l,onBlur:u,prefix:Object(j.jsx)(Qt.a,{className:Wt.a.inputIcon})})}),Object(j.jsxs)(Vt.a.Item,{className:Wt.a.fieldWrapper,children:[Object(j.jsx)(S,{className:Wt.a.submitBtn,type:"primary",size:"large",htmlType:"submit",disabled:!(c&&r),children:"Login"}),Object(j.jsx)(it.a,{to:"/auth/register",className:Wt.a.suggestLink,children:"Register"})]})]})})]})},aa=Object(n.memo)(ta),sa=a(546),na=function(e){var t=e.history,a=Object(Zt.a)({initialValues:{email:"",username:"",password:"",confirmPassword:""},onSubmit:function(e){console.log("values register",e),t.push("/auth/register/success")},validationSchema:Yt,validateOnMount:!0}),s=a.values,n=a.errors,c=a.isValid,r=a.dirty,i=a.touched,o=a.handleSubmit,l=a.handleChange,u=a.handleBlur;return Object(j.jsxs)("section",{className:Wt.a.authSectionContainer,children:[Object(j.jsxs)("div",{className:Wt.a.titleContainer,children:[Object(j.jsx)("h1",{children:"Register"}),Object(j.jsx)("p",{children:"To enter the chat, you need to register"})]}),Object(j.jsx)(C,{className:Wt.a.block,children:Object(j.jsxs)(Vt.a,{className:"authForm",initialValues:{remember:!0},onFinish:o,requiredMark:!0,children:[Object(j.jsx)(Vt.a.Item,{className:Wt.a.fieldWrapper,name:"email",hasFeedback:!0,help:i.email?n.email:null,validateStatus:ea(s,n,i,"email"),children:Object(j.jsx)(Ft.a,{className:Wt.a.inputContainer,type:"email",placeholder:"E-Mail",size:"large",prefix:Object(j.jsx)(sa.a,{className:Wt.a.inputIcon}),value:s.email,onChange:l,onBlur:u})}),Object(j.jsx)(Vt.a.Item,{className:Wt.a.fieldWrapper,name:"username",hasFeedback:!0,help:i.username?n.username:null,validateStatus:ea(s,n,i,"username"),children:Object(j.jsx)(Ft.a,{className:Wt.a.inputContainer,placeholder:"Username",size:"large",prefix:Object(j.jsx)(qt.a,{className:Wt.a.inputIcon}),value:s.username,onChange:l,onBlur:u})}),Object(j.jsx)(Vt.a.Item,{className:Wt.a.fieldWrapper,name:"password",hasFeedback:!0,help:i.password?n.password:null,validateStatus:ea(s,n,i,"password"),children:Object(j.jsx)(Ft.a.Password,{autoComplete:"new-password",className:p()(Wt.a.inputContainer,Wt.a.passwordField),type:"password",placeholder:"Password",size:"large",prefix:Object(j.jsx)(Qt.a,{className:Wt.a.inputIcon}),value:s.password,onChange:l,onBlur:u})}),Object(j.jsx)(Vt.a.Item,{className:Wt.a.fieldWrapper,name:"confirmPassword",hasFeedback:!0,help:i.confirmPassword?n.confirmPassword:null,validateStatus:ea(s,n,i,"confirmPassword"),children:Object(j.jsx)(Ft.a.Password,{className:p()(Wt.a.inputContainer,Wt.a.passwordField),type:"password",placeholder:"Confirm Password",size:"large",prefix:Object(j.jsx)(Qt.a,{className:Wt.a.inputIcon}),value:s.confirmPassword,onChange:l,onBlur:u})}),Object(j.jsxs)(Vt.a.Item,{className:Wt.a.fieldWrapper,children:[Object(j.jsx)(S,{className:Wt.a.submitBtn,type:"primary",size:"large",htmlType:"submit",disabled:!(c&&r),children:"Register"}),Object(j.jsx)(it.a,{to:"/auth/login",className:Wt.a.suggestLink,children:"Login to your account"})]})]})})]})},ca=a(547),ra=function(){return Object(j.jsxs)("section",{className:Wt.a.authSectionContainer,children:[Object(j.jsxs)("div",{className:Wt.a.titleContainer,children:[Object(j.jsx)("h1",{children:"Register"}),Object(j.jsx)("p",{children:"To enter the chat, you need to register"})]}),Object(j.jsx)(C,{className:Wt.a.block,children:Object(j.jsxs)("div",{className:Wt.a.successContainer,children:[Object(j.jsx)(ca.a,{className:Wt.a.infoIcon}),Object(j.jsx)("h2",{children:"Verify your account"}),Object(j.jsx)("p",{children:"An email has been sent to your email with a link to confirm your account."}),Object(j.jsx)(it.a,{to:"/auth/login",children:"Go to Login page"})]})})]})},ia=function(){return Object(j.jsx)("div",{className:Wt.a.authContainer,children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/auth",exact:!0,component:aa}),Object(j.jsx)(o.b,{path:"/auth/register",exact:!0,component:na}),Object(j.jsx)(o.b,{path:"/auth/register/success",exact:!0,component:ra}),Object(j.jsx)(o.a,{to:"/"})]})})},oa=Object(n.memo)(ia),la=a(184),ua=a.n(la),da=function(){return Object(j.jsx)("div",{className:ua.a.homePage,children:Object(j.jsxs)("div",{className:ua.a.container,children:[Object(j.jsx)(rt,{}),Object(j.jsx)(J,{})]})})},ja=function(){return Object(j.jsx)(m,{children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/",exact:!0,component:da}),Object(j.jsx)(o.b,{path:"/m",exact:!0,component:da}),Object(j.jsx)(o.b,{path:"/m/:id",component:da,exact:!0}),Object(j.jsx)(o.b,{path:"/auth",component:oa}),Object(j.jsx)(o.a,{to:"/"})]})})},ma=a(50),ba=Object(ma.a)(),ha=a(72),Oa=(a(262),a(272)),_a=(a(263),{isLoading:!1,dialogues:[]}),pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.DIALOGUES_SET_IS_LOADING:return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.payload});case D.SET_DIALOGUES:return Object(b.a)(Object(b.a)({},e),{},{dialogues:t.payload});default:return e}},va={isLoading:!1,messages:[]},xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.MESSAGES_SET_IS_LOADING:return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.payload});case s.SET_MESSAGES:return Object(b.a)(Object(b.a)({},e),{},{messages:t.payload});case s.REMOVE_MESSAGES:return Object(b.a)(Object(b.a)({},e),{},{messages:[]});default:return e}},fa=Object(ha.combineReducers)({dialoguesData:pa,messagesData:xa}),ga=a(57),ya=a.n(ga),Sa=a(46),Na=a(264),wa=a.n(Na),Ea=a(27),Ca=function e(){Object(Ea.a)(this,e)};Ca.setItem=function(e,t){try{var a=JSON.stringify(t);localStorage.setItem(e,a)}catch(s){}},Ca.getItem=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(a){}},Ca.removeItem=function(e){localStorage.removeItem(e)};var Ia=Ca,Aa=function(){return Ia.getItem("access_token")||null},Ma=wa.a.create({baseURL:"http://34.217.47.26:7777",headers:{Authorization:"Bearer ".concat(Aa()),"Content-Type":"application/json"}}),La={getAll:function(){return Ma.get("/dialogues")}},Ta=ya.a.mark(za),Ra=ya.a.mark(Ba);function za(){var e,t;return ya.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Sa.c)(ct(!0));case 3:return a.next=5,Object(Sa.b)(La.getAll);case 5:return e=a.sent,t=e.data,a.next=9,Object(Sa.c)((s=t,{type:D.SET_DIALOGUES,payload:s}));case 9:return a.next=11,Object(Sa.c)(ct(!1));case 11:a.next=18;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(Sa.c)(ct(!1));case 17:console.log("error",a.t0.message);case 18:case"end":return a.stop()}var s}),Ta,null,[[0,13]])}function Ba(){return ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Sa.d)(D.DIALOGUES_REQUEST,za);case 2:case"end":return e.stop()}}),Ra)}var Ga={getAllByDialogueId:function(e){return Ma.get("/messages/".concat(e))}},Da=ya.a.mark(Ua),ka=ya.a.mark(Wa);function Ua(e){var t,a,n;return ya.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(Sa.c)(k(!0));case 4:return c.next=6,Ga.getAllByDialogueId(t);case 6:return a=c.sent,n=a.data,c.next=10,Object(Sa.c)((r=n,{type:s.SET_MESSAGES,payload:r}));case 10:return c.next=12,Object(Sa.c)(k(!1));case 12:c.next=19;break;case 14:return c.prev=14,c.t0=c.catch(1),c.next=18,Object(Sa.c)(k(!1));case 18:console.log("error",c.t0.message);case 19:case"end":return c.stop()}var r}),Da,null,[[1,14]])}function Wa(){return ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Sa.d)(s.MESSAGES_REQUEST,Ua);case 2:case"end":return e.stop()}}),ka)}var Pa=ya.a.mark(Va);function Va(){return ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Sa.a)([Ba(),Wa()]);case 2:case"end":return e.stop()}}),Pa)}var Ha=Object(Oa.a)(),Fa=[Ha];var qa=ha.applyMiddleware.apply(void 0,Fa),Qa=Object(ha.createStore)(fa,qa);Ha.run(Va);var Za=Qa;i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(o.c,{history:ba,children:Object(j.jsx)(l.a,{store:Za,children:Object(j.jsx)(ja,{})})})}),document.getElementById("root"))},58:function(e,t,a){e.exports={dialoguesBarContainer:"styles_dialoguesBarContainer__FWzgS",dialoguesBarTopPart:"styles_dialoguesBarTopPart__JAobW",dialoguesHeader:"styles_dialoguesHeader__3JOmL",conversationsListText:"styles_conversationsListText__239nz",listIcon:"styles_listIcon__26yUq",createNewConversationBtn:"styles_createNewConversationBtn__1pRIm",createNewConversationIcon:"styles_createNewConversationIcon__22qUA",dialoguesSearchContainer:"styles_dialoguesSearchContainer__3m05x",searchInput:"styles_searchInput__QNzEH",searchIcon:"styles_searchIcon__2UIlJ",filterBtnContainer:"styles_filterBtnContainer__17ZoC",filterBtnWrapper:"styles_filterBtnWrapper__3lrwD"}},68:function(e,t,a){e.exports={audioContainer:"styles_audioContainer__16mwG",audioProgress:"styles_audioProgress__qcC7R",audioInfo:"styles_audioInfo__MYo-s",me:"styles_me__10kyk",audioBtn:"styles_audioBtn__1htpv",paused:"styles_paused__1g3If",playing:"styles_playing__3CJDg",progressIcon:"styles_progressIcon__3bJH_",audioDuration:"styles_audioDuration__1edLI"}}},[[528,1,2]]]);
//# sourceMappingURL=main.fc8d1157.chunk.js.map